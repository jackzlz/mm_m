define("biz/appmsg_list",[],function(a){function b(){var a=LT.startProgress({message:"正在初始化界面"}),b=LT.showPage({url:"appmsg_toAdd.action",title:"新增素材",width:"100%",height:"100%"},function(){b.find("iframe")[0].contentWindow.closeMe=function(){b.close(),j.refresh()},a.stopProgress(!0)})}function c(){var a=f("id");if(null===a)return void LT.infomation({content:"没有选中记录！"});var b=LT.startProgress({message:"正在初始化界面"}),c=LT.showPage({url:"appmsg_toEdit.action?id="+a,title:"编辑素材",width:"100%",height:"100%"},function(){c.find("iframe")[0].contentWindow.closeMe=function(){c.close(),j.refresh()},b.stopProgress(!0)})}function d(){var a=f("id");return null===a?void LT.infomation({content:"没有选中记录！"}):void window.open(LT.getBasePath()+"/webApps/manager/appmsg_toShow.action?id="+a)}function e(){var a=f("id");if(null===a)return void LT.infomation({content:"没有选中记录！"});var b="appmsg_getAssignForm.action";LT.openForm({title:"分配素材",pos:"center",width:520,height:150,minable:!1,resizable:!1,maxable:!1},{url:b},function(b){if(!b||!b.enterpriseNo)return LT.infomation({content:"请选择企业号"}),!1;b.appmsgId=a;var c=LT.synPost("appmsg_assignAppmsg.action",{assignJson:LT.toString(b)});return"success"===c?(LT.infomation({content:"分配成功"}),!0):!1})}function f(a){return g()[a]}function g(){return j.dataTable.getSelectedRowData()}var h,i,j=LT.SimplePage.create();h=[{name:"新增",icon:LT.getBasePath()+"/common/images/tool/add.png",action:function(){b()}},{name:"查看",icon:LT.getBasePath()+"/webApps/manager/img/preview.png",action:function(){d()}},{name:"编辑",icon:LT.getBasePath()+"/common/images/tool/edit.png",action:function(){c()}}],isRootOrgGroup&&h.push({name:"分配素材",icon:LT.getBasePath()+"/webApps/manager/img/assign.png",action:function(){e()}}),i={url:"appmsg",menu:h,finish:function(){j.maxAdd=!0,j.maxEdit=!0}},i.tableParam={},j.build(i)});